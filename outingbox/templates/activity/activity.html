{% extends "components/base.html" %}

{% load staticfiles %}

{% block customjs %}
<script src="https://maps.googleapis.com/maps/api/js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        var mapCanvas = document.querySelector('.map');
        var myLatlng = new google.maps.LatLng({{ activity.address.location }});
        var mapOptions = {
            center: myLatlng,
            zoom: 15,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };

        var map = new google.maps.Map(mapCanvas, mapOptions);
        var marker = new google.maps.Marker({
            position: myLatlng,
            map: map,
        });
    });
</script>
{% endblock customjs %}

{% block content-main %}
<!-- Activity START -->
<section class="container">
    <div class="row text-center">
        <div class="col-xs-12">
            <h4 class="page-header">{{ activity.title }}</h4>
            <h6>{% include 'components/rating.html' with activity=activity %}</h6>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-2 col-sm-1 text-center">
        {% include 'components/bookmark.html' %}
        </div>
        <div class="col-xs-12 col-sm-4">
            <div class="map" id="map"></div>
            <ul class="list-group">
                <li class="list-group-item"><span class="fa fa-location-arrow fa-fw" aria-hidden="true"></span>&nbsp;{{ activity.address.address_line1 }}, {{ activity.address.address_line2 }}</li>
                <li class="list-group-item">
                    {% for metro_station in activity.address.metro_station.all|slice:":2" %}
                        <span class="fa fa-train fa-fw" aria-hidden="true"></span>&nbsp;{{ metro_station.title }}
                    {% endfor %}
                </li>
            </ul>
        </div>

        <div class="col-xs-12 col-sm-7">
            <h4>Things to do here !</h4>

            <ul class="list-group">
                {% for category in activity.category.all %}
                    <li class="list-group-item">{{ category.title }}</li>
                {% endfor %}
            </ul>

            <h4>Contact {{ activity.address.title }}</h4>

            <ul class="list-group">
                <li class="list-group-item"><span class="fa fa-phone fa-fw" aria-hidden="true"></span>&nbsp;{{ activity.contact_numbers|slice:":2"|join:", " }}</li>
                {% if activity.website %}
                <li class="list-group-item"><span class="fa fa-desktop fa-fw" aria-hidden="true"></span>&nbsp;<a href="">{{ activity.website }}</a></li>
                {% endif %}
                {% if activity.email %}
                <li class="list-group-item"><span class="fa fa-envelope fa-fw" aria-hidden="true"></span>&nbsp;<a href="">{{ activity.email }}</a></li>
                {% endif %}
                {% if activity.facebook %}
                <li class="list-group-item"><span class="fa fa-facebook fa-fw" aria-hidden="true"></span>&nbsp;<a href="">{{ activity.facebook }}</a></li>
                {% endif %}
                {% if activity.twitter %}
                <li class="list-group-item"><span class="fa fa-twitter fa-fw" aria-hidden="true"></span>&nbsp;<a href="">{{ activity.twitter }}</a></li>
                {% endif %}
            </ul>
        </div>
    </div>
</section>

{% include 'activity/activity-photo-gallery.html' %}
{% include 'activity/activity-comments.html' %}


<!-- Activity END -->
{% endblock content-main %}
